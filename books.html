<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>曾国藩著作 - 书籍文献</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8794607118520437" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="books.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for social media icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- 浮动分享按钮 -->
    <div class="floating-share-btn" id="floatingShareBtn">
        <i class="fas fa-share-alt"></i>
        <span class="share-tooltip">分享页面</span>
    </div>

    <!-- 分享模态框 -->
    <div class="share-modal" id="shareModal">
        <div class="share-modal-content">
            <div class="share-modal-header">
                <h3>分享到社交媒体</h3>
                <button class="share-modal-close" id="shareModalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="share-modal-body">
                <div class="share-platforms">
                    <!-- Facebook -->
                    <button class="share-platform facebook" onclick="shareToFacebook()">
                        <i class="fab fa-facebook-f"></i>
                        <span>Facebook</span>
                    </button>
                    
                    <!-- Twitter/X -->
                    <button class="share-platform twitter" onclick="shareToTwitter()">
                        <i class="fab fa-twitter"></i>
                        <span>Twitter/X</span>
                    </button>
                    
                    <!-- LinkedIn -->
                    <button class="share-platform linkedin" onclick="shareToLinkedIn()">
                        <i class="fab fa-linkedin-in"></i>
                        <span>LinkedIn</span>
                    </button>
                    
                    <!-- WhatsApp -->
                    <button class="share-platform whatsapp" onclick="shareToWhatsApp()">
                        <i class="fab fa-whatsapp"></i>
                        <span>WhatsApp</span>
                    </button>
                    
                    <!-- Telegram -->
                    <button class="share-platform telegram" onclick="shareToTelegram()">
                        <i class="fab fa-telegram-plane"></i>
                        <span>Telegram</span>
                    </button>
                    
                    <!-- Reddit -->
                    <button class="share-platform reddit" onclick="shareToReddit()">
                        <i class="fab fa-reddit-alien"></i>
                        <span>Reddit</span>
                    </button>
                    
                    <!-- Pinterest -->
                    <button class="share-platform pinterest" onclick="shareToPinterest()">
                        <i class="fab fa-pinterest-p"></i>
                        <span>Pinterest</span>
                    </button>
                    
                    <!-- Email -->
                    <button class="share-platform email" onclick="shareToEmail()">
                        <i class="fas fa-envelope"></i>
                        <span>Email</span>
                    </button>
                </div>
                
                <div class="share-link-section">
                    <label for="shareLink">页面链接：</label>
                    <div class="share-link-container">
                        <input type="text" id="shareLink" value="https://zengguofan.com/books.html" readonly>
                        <button class="copy-link-btn" onclick="copyShareLink()">
                            <i class="fas fa-copy"></i>
                            复制
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2><a href="index.html" style="text-decoration: none; color: inherit;">曾国藩</a></h2>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html#home" class="nav-link">首页</a>
                </li>
                <li class="nav-item">
                    <a href="index.html#biography" class="nav-link">生平事迹</a>
                </li>
                <li class="nav-item">
                    <a href="index.html#philosophy" class="nav-link">思想理念</a>
                </li>
                <li class="nav-item">
                    <a href="books.html" class="nav-link active">著作文献</a>
                </li>
                <li class="nav-item">
                    <a href="videos.html" class="nav-link">热门视频</a>
                </li>
                <li class="nav-item">
                    <a href="stories.html" class="nav-link">故事集</a>
                </li>
                <li class="nav-item">
                    <a href="index.html#legacy" class="nav-link">历史影响</a>
                </li>
                <li class="nav-item">
                    <a href="sitemap.html" class="nav-link">网站地图</a>
                </li>
            </ul>
            <!-- 收藏按钮 -->
            <div class="bookmark-btn-container">
                <button class="bookmark-btn" id="bookmarkBtn" title="收藏页面">
                    <i class="fas fa-bookmark" id="bookmarkIcon"></i>
                    <span class="bookmark-text" id="bookmarkText">收藏</span>
                </button>
            </div>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- 页面头部 -->
    <section class="page-header">
        <div class="container">
            <h1 class="page-title">曾国藩著作文献</h1>
            <p class="page-subtitle">探索晚清中兴名臣的智慧结晶</p>
            <div class="breadcrumb">
                <a href="index.html">首页</a> > 著作文献
            </div>
        </div>
    </section>

    <!-- 书籍分类导航 -->
    <section class="category-nav">
        <div class="container">
            <div class="category-tabs">
                <button class="category-tab active" data-category="all">全部著作</button>
                <button class="category-tab" data-category="letters">家书家训</button>
                <button class="category-tab" data-category="diary">日记笔记</button>
                <button class="category-tab" data-category="philosophy">哲学思想</button>
                <button class="category-tab" data-category="military">军事著作</button>
                <button class="category-tab" data-category="collected">全集汇编</button>
            </div>
        </div>
    </section>

    <!-- 书籍展示区域 -->
    <section class="books-section">
        <div class="container">
            <div class="books-grid">
                <!-- 家书家训类 -->
                <div class="book-card" data-category="letters">
                    <div class="book-cover">
                        <div class="book-image">
                            <div class="book-icon">📖</div>
                        </div>
                        <div class="book-badge">经典</div>
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">《曾国藩家书》</h3>
                        <p class="book-subtitle">家训经典，修身指南</p>
                        <div class="book-meta">
                            <span class="book-year">1860-1872</span>
                            <span class="book-pages">约1500封</span>
                        </div>
                        <p class="book-description">
                            收录曾国藩写给家人的书信，内容涵盖修身、齐家、教育、为官等方面。是研究曾国藩思想的重要资料，也是中国传统家训文化的经典之作。
                        </p>
                        <div class="book-tags">
                            <span class="tag">家训</span>
                            <span class="tag">修身</span>
                            <span class="tag">教育</span>
                        </div>
                        <div class="book-actions">
                            <button class="btn-detail">查看详情</button>
                            <button class="btn-quote">经典语录</button>
                        </div>
                    </div>
                </div>

                <div class="book-card" data-category="letters">
                    <div class="book-cover">
                        <div class="book-image">
                            <div class="book-icon">📝</div>
                        </div>
                        <div class="book-badge">珍贵</div>
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">《曾国藩家训》</h3>
                        <p class="book-subtitle">家庭教育宝典</p>
                        <div class="book-meta">
                            <span class="book-year">1860-1872</span>
                            <span class="book-pages">精选汇编</span>
                        </div>
                        <p class="book-description">
                            从家书中精选出的教育理念和家庭管理智慧，专门针对子女教育和家庭建设，体现了曾国藩深厚的家庭教育思想。
                        </p>
                        <div class="book-tags">
                            <span class="tag">教育</span>
                            <span class="tag">家庭</span>
                            <span class="tag">管理</span>
                        </div>
                        <div class="book-actions">
                            <button class="btn-detail">查看详情</button>
                            <button class="btn-quote">经典语录</button>
                        </div>
                    </div>
                </div>

                <!-- 日记笔记类 -->
                <div class="book-card" data-category="diary">
                    <div class="book-cover">
                        <div class="book-image">
                            <div class="book-icon">📔</div>
                        </div>
                        <div class="book-badge">珍贵</div>
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">《曾国藩日记》</h3>
                        <p class="book-subtitle">修身自省记录</p>
                        <div class="book-meta">
                            <span class="book-year">1838-1872</span>
                            <span class="book-pages">34年记录</span>
                        </div>
                        <p class="book-description">
                            记录了曾国藩的日常生活、思想变化和修身过程，展现了他严格自律的精神品质和不断自我反省的人生态度。
                        </p>
                        <div class="book-tags">
                            <span class="tag">日记</span>
                            <span class="tag">修身</span>
                            <span class="tag">自省</span>
                        </div>
                        <div class="book-actions">
                            <button class="btn-detail">查看详情</button>
                            <button class="btn-quote">经典语录</button>
                        </div>
                    </div>
                </div>

                <!-- 哲学思想类 -->
                <div class="book-card" data-category="philosophy">
                    <div class="book-cover">
                        <div class="book-image">
                            <div class="book-icon">📜</div>
                        </div>
                        <div class="book-badge">独特</div>
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">《冰鉴》</h3>
                        <p class="book-subtitle">相术识人智慧</p>
                        <div class="book-meta">
                            <span class="book-year">1860年代</span>
                            <span class="book-pages">相术著作</span>
                        </div>
                        <p class="book-description">
                            曾国藩的相术著作，通过观察人的相貌、举止来判断其性格和才能，体现了他的识人智慧和用人哲学。
                        </p>
                        <div class="book-tags">
                            <span class="tag">相术</span>
                            <span class="tag">识人</span>
                            <span class="tag">智慧</span>
                        </div>
                        <div class="book-actions">
                            <button class="btn-detail">查看详情</button>
                            <button class="btn-quote">经典语录</button>
                        </div>
                    </div>
                </div>

                <div class="book-card" data-category="philosophy">
                    <div class="book-cover">
                        <div class="book-image">
                            <div class="book-icon">🎯</div>
                        </div>
                        <div class="book-badge">重要</div>
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">《修身要诀》</h3>
                        <p class="book-subtitle">修身养性指南</p>
                        <div class="book-meta">
                            <span class="book-year">1860年代</span>
                            <span class="book-pages">修身方法</span>
                        </div>
                        <p class="book-description">
                            总结曾国藩的修身方法和理念，包括"慎独"、"主敬"、"求仁"、"习劳"等修身要诀，是理解其思想体系的重要著作。
                        </p>
                        <div class="book-tags">
                            <span class="tag">修身</span>
                            <span class="tag">哲学</span>
                            <span class="tag">方法</span>
                        </div>
                        <div class="book-actions">
                            <button class="btn-detail">查看详情</button>
                            <button class="btn-quote">经典语录</button>
                        </div>
                    </div>
                </div>

                <!-- 军事著作类 -->
                <div class="book-card" data-category="military">
                    <div class="book-cover">
                        <div class="book-image">
                            <div class="book-icon">⚔️</div>
                        </div>
                        <div class="book-badge">军事</div>
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">《湘军志》</h3>
                        <p class="book-subtitle">湘军创建与管理</p>
                        <div class="book-meta">
                            <span class="book-year">1853-1864</span>
                            <span class="book-pages">军事著作</span>
                        </div>
                        <p class="book-description">
                            记录湘军的创建、训练、作战和管理经验，体现了曾国藩的军事思想和组织管理能力，对晚清军事改革产生重要影响。
                        </p>
                        <div class="book-tags">
                            <span class="tag">军事</span>
                            <span class="tag">管理</span>
                            <span class="tag">组织</span>
                        </div>
                        <div class="book-actions">
                            <button class="btn-detail">查看详情</button>
                            <button class="btn-quote">经典语录</button>
                        </div>
                    </div>
                </div>

                <div class="book-card" data-category="military">
                    <div class="book-cover">
                        <div class="book-image">
                            <div class="book-icon">🏛️</div>
                        </div>
                        <div class="book-badge">政治</div>
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">《奏折集》</h3>
                        <p class="book-subtitle">政治军事奏折</p>
                        <div class="book-meta">
                            <span class="book-year">1838-1872</span>
                            <span class="book-pages">政治文献</span>
                        </div>
                        <p class="book-description">
                            收录曾国藩向朝廷呈递的奏折，内容涉及政治、军事、经济、教育等各个方面，是研究晚清政治史的重要资料。
                        </p>
                        <div class="book-tags">
                            <span class="tag">政治</span>
                            <span class="tag">奏折</span>
                            <span class="tag">历史</span>
                        </div>
                        <div class="book-actions">
                            <button class="btn-detail">查看详情</button>
                            <button class="btn-quote">经典语录</button>
                        </div>
                    </div>
                </div>

                <!-- 全集汇编类 -->
                <div class="book-card" data-category="collected">
                    <div class="book-cover">
                        <div class="book-image">
                            <div class="book-icon">📚</div>
                        </div>
                        <div class="book-badge">全集</div>
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">《曾国藩全集》</h3>
                        <p class="book-subtitle">完整著作汇编</p>
                        <div class="book-meta">
                            <span class="book-year">现代汇编</span>
                            <span class="book-pages">多卷本</span>
                        </div>
                        <p class="book-description">
                            收录了曾国藩的奏折、书信、诗文、日记等各类作品，是研究曾国藩思想和晚清历史的最全面资料。
                        </p>
                        <div class="book-tags">
                            <span class="tag">全集</span>
                            <span class="tag">汇编</span>
                            <span class="tag">历史</span>
                        </div>
                        <div class="book-actions">
                            <button class="btn-detail">查看详情</button>
                            <button class="btn-quote">经典语录</button>
                        </div>
                    </div>
                </div>

                <div class="book-card" data-category="collected">
                    <div class="book-cover">
                        <div class="book-image">
                            <div class="book-icon">📖</div>
                        </div>
                        <div class="book-badge">精选</div>
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">《曾国藩文选》</h3>
                        <p class="book-subtitle">精选文章汇编</p>
                        <div class="book-meta">
                            <span class="book-year">现代精选</span>
                            <span class="book-pages">精选本</span>
                        </div>
                        <p class="book-description">
                            从曾国藩全集中精选出的重要文章和书信，便于读者快速了解曾国藩的核心思想和主要成就。
                        </p>
                        <div class="book-tags">
                            <span class="tag">精选</span>
                            <span class="tag">文选</span>
                            <span class="tag">入门</span>
                        </div>
                        <div class="book-actions">
                            <button class="btn-detail">查看详情</button>
                            <button class="btn-quote">经典语录</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 书籍详情模态框 -->
    <div class="modal" id="bookModal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-body">
                <div class="book-detail">
                    <div class="book-detail-cover">
                        <div class="book-detail-image">
                            <div class="book-detail-icon">📖</div>
                        </div>
                    </div>
                    <div class="book-detail-info">
                        <h2 class="book-detail-title">《曾国藩家书》</h2>
                        <div class="book-detail-meta">
                            <span class="meta-item">作者：曾国藩</span>
                            <span class="meta-item">年代：1860-1872</span>
                            <span class="meta-item">类型：家书家训</span>
                        </div>
                        <div class="book-detail-description">
                            <h3>内容简介</h3>
                            <p>《曾国藩家书》收录了曾国藩在1860年至1872年间写给家人的书信，共计约1500封。这些书信内容广泛，涉及修身、齐家、教育、为官、处世等各个方面，是研究曾国藩思想的重要资料。</p>
                            
                            <h3>主要特点</h3>
                            <ul>
                                <li>修身养性：强调自我修养和道德完善</li>
                                <li>家庭教育：重视子女教育和家庭和睦</li>
                                <li>处世哲学：传授为人处世的智慧</li>
                                <li>为官之道：分享从政经验和官场智慧</li>
                            </ul>
                            
                            <h3>历史价值</h3>
                            <p>《曾国藩家书》不仅是一部家训经典，更是中国传统文化的重要组成部分。它体现了儒家思想在近代的传承和发展，对后世产生了深远影响。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 经典语录模态框 -->
    <div class="modal" id="quoteModal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-body">
                <div class="quote-detail">
                    <h2 class="quote-title">经典语录</h2>
                    <div class="quotes-container">
                        <div class="quote-item">
                            <blockquote>"天下古今之庸人，皆以一惰字致败；天下古今之才人，皆以一傲字致败。"</blockquote>
                            <cite>— 《曾国藩家书》</cite>
                        </div>
                        <div class="quote-item">
                            <blockquote>"慎独则心安，主敬则身强，求仁则人悦，习劳则神钦。"</blockquote>
                            <cite>— 《曾国藩家书》</cite>
                        </div>
                        <div class="quote-item">
                            <blockquote>"不为圣贤，便为禽兽；不问收获，但问耕耘。"</blockquote>
                            <cite>— 《曾国藩家书》</cite>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>关于网站</h3>
                    <p>本网站致力于传播曾国藩的思想文化，弘扬中华优秀传统文化。</p>
                </div>
                <div class="footer-section">
                    <h3>参考资料</h3>
                    <p>主要参考张宏杰《曾国藩传》等权威资料整理而成。</p>
                </div>
                <div class="footer-section">
                    <h3>联系方式</h3>
                    <p>如有建议或意见，欢迎反馈交流。</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 曾国藩个人网站. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="books.js"></script>
    
    <!-- 分享功能JavaScript -->
    <script>
        // 分享功能
        const floatingShareBtn = document.getElementById('floatingShareBtn');
        const shareModal = document.getElementById('shareModal');
        const shareModalClose = document.getElementById('shareModalClose');

        // 显示/隐藏分享模态框
        floatingShareBtn.addEventListener('click', () => {
            shareModal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        });

        shareModalClose.addEventListener('click', () => {
            shareModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        });

        // 点击模态框外部关闭
        window.addEventListener('click', (e) => {
            if (e.target === shareModal) {
                shareModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });

        // 分享到Facebook
        function shareToFacebook() {
            const url = encodeURIComponent(window.location.href);
            const title = encodeURIComponent('曾国藩著作 - 书籍文献 | 探索晚清中兴名臣的智慧结晶');
            const description = encodeURIComponent('深入了解曾国藩的著作文献，包括《曾国藩家书》、《冰鉴》、《挺经》等经典作品。探索晚清中兴名臣曾国藩的智慧结晶。');
            const shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${title}&description=${description}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }

        // 分享到Twitter/X
        function shareToTwitter() {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent('曾国藩著作 - 书籍文献 | 探索晚清中兴名臣的智慧结晶');
            const shareUrl = `https://twitter.com/intent/tweet?text=${text}&url=${url}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }

        // 分享到LinkedIn
        function shareToLinkedIn() {
            const url = encodeURIComponent(window.location.href);
            const title = encodeURIComponent('曾国藩著作 - 书籍文献');
            const summary = encodeURIComponent('深入了解曾国藩的著作文献，包括《曾国藩家书》、《冰鉴》、《挺经》等经典作品。探索晚清中兴名臣曾国藩的智慧结晶。');
            const shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${url}&title=${title}&summary=${summary}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }

        // 分享到WhatsApp
        function shareToWhatsApp() {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent('曾国藩著作 - 书籍文献 | 探索晚清中兴名臣的智慧结晶');
            const shareUrl = `https://wa.me/?text=${text}%20${url}`;
            window.open(shareUrl, '_blank');
        }

        // 分享到Telegram
        function shareToTelegram() {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent('曾国藩著作 - 书籍文献 | 探索晚清中兴名臣的智慧结晶');
            const shareUrl = `https://t.me/share/url?url=${url}&text=${text}`;
            window.open(shareUrl, '_blank');
        }

        // 分享到Reddit
        function shareToReddit() {
            const url = encodeURIComponent(window.location.href);
            const title = encodeURIComponent('曾国藩著作 - 书籍文献 | 探索晚清中兴名臣的智慧结晶');
            const shareUrl = `https://reddit.com/submit?url=${url}&title=${title}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }

        // 分享到Pinterest
        function shareToPinterest() {
            const url = encodeURIComponent(window.location.href);
            const description = encodeURIComponent('曾国藩著作 - 书籍文献 | 探索晚清中兴名臣的智慧结晶');
            const media = encodeURIComponent('zengguofan.png');
            const shareUrl = `https://pinterest.com/pin/create/button/?url=${url}&description=${description}&media=${media}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }

        // 分享到Email
        function shareToEmail() {
            const subject = encodeURIComponent('曾国藩著作 - 书籍文献 | 探索晚清中兴名臣的智慧结晶');
            const body = encodeURIComponent(`我发现了一个关于曾国藩著作的精彩网站！

曾国藩的著作文献包括《曾国藩家书》、《冰鉴》、《挺经》等经典作品，蕴含着深刻的人生智慧。

网站链接：${window.location.href}

推荐给您，希望对您有所帮助！`);
            const shareUrl = `mailto:?subject=${subject}&body=${body}`;
            window.location.href = shareUrl;
        }

        // 复制分享链接
        function copyShareLink() {
            const shareLink = document.getElementById('shareLink');
            shareLink.select();
            shareLink.setSelectionRange(0, 99999);
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(shareLink.value).then(() => {
                    showCopySuccess();
                });
            } else {
                document.execCommand('copy');
                showCopySuccess();
            }
        }

        // 显示复制成功提示
        function showCopySuccess() {
            const copyBtn = document.querySelector('.copy-link-btn');
            const originalText = copyBtn.innerHTML;
            copyBtn.innerHTML = '<i class="fas fa-check"></i> 已复制';
            copyBtn.style.backgroundColor = '#28a745';
            
            setTimeout(() => {
                copyBtn.innerHTML = originalText;
                copyBtn.style.backgroundColor = '#6c757d';
            }, 2000);
        }

        // 检测移动设备并调整分享方式
        function detectMobileAndAdjust() {
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                // 移动设备上使用原生分享API（如果支持）
                if (navigator.share) {
                    floatingShareBtn.addEventListener('click', async () => {
                        try {
                            await navigator.share({
                                title: '曾国藩著作 - 书籍文献',
                                text: '深入了解曾国藩的著作文献，包括《曾国藩家书》、《冰鉴》、《挺经》等经典作品。探索晚清中兴名臣曾国藩的智慧结晶。',
                                url: window.location.href
                            });
                        } catch (err) {
                            // 如果原生分享失败，显示模态框
                            shareModal.style.display = 'block';
                            document.body.style.overflow = 'hidden';
                        }
                    });
                }
            }
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', () => {
            detectMobileAndAdjust();
        });
    </script>

    <!-- 收藏功能JavaScript -->
    <script>
        // 收藏功能
        const bookmarkBtn = document.getElementById('bookmarkBtn');
        const bookmarkIcon = document.getElementById('bookmarkIcon');
        const bookmarkText = document.getElementById('bookmarkText');
        
        // 检查页面是否已被收藏
        function checkBookmarkStatus() {
            const currentUrl = window.location.href;
            const bookmarks = JSON.parse(localStorage.getItem('zengguofan_bookmarks') || '[]');
            const isBookmarked = bookmarks.includes(currentUrl);
            
            updateBookmarkUI(isBookmarked);
        }
        
        // 更新收藏按钮UI
        function updateBookmarkUI(isBookmarked) {
            if (isBookmarked) {
                bookmarkIcon.className = 'fas fa-bookmark bookmark-active';
                bookmarkText.textContent = '已收藏';
                bookmarkBtn.classList.add('bookmarked');
            } else {
                bookmarkIcon.className = 'fas fa-bookmark';
                bookmarkText.textContent = '收藏';
                bookmarkBtn.classList.remove('bookmarked');
            }
        }
        
        // 切换收藏状态
        function toggleBookmark() {
            const currentUrl = window.location.href;
            const bookmarks = JSON.parse(localStorage.getItem('zengguofan_bookmarks') || '[]');
            const isBookmarked = bookmarks.includes(currentUrl);
            
            if (isBookmarked) {
                // 移除收藏
                const newBookmarks = bookmarks.filter(url => url !== currentUrl);
                localStorage.setItem('zengguofan_bookmarks', JSON.stringify(newBookmarks));
                updateBookmarkUI(false);
                showBookmarkMessage('已取消收藏', false);
            } else {
                // 添加收藏
                bookmarks.push(currentUrl);
                localStorage.setItem('zengguofan_bookmarks', JSON.stringify(bookmarks));
                updateBookmarkUI(true);
                showBookmarkMessage('已添加到收藏', true);
            }
        }
        
        // 显示收藏消息提示
        function showBookmarkMessage(message, isSuccess) {
            // 创建消息提示元素
            const messageEl = document.createElement('div');
            messageEl.className = `bookmark-message ${isSuccess ? 'success' : 'info'}`;
            messageEl.textContent = message;
            
            // 添加到页面
            document.body.appendChild(messageEl);
            
            // 显示动画
            setTimeout(() => {
                messageEl.classList.add('show');
            }, 100);
            
            // 自动隐藏
            setTimeout(() => {
                messageEl.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(messageEl);
                }, 300);
            }, 2000);
        }
        
        // 绑定收藏按钮点击事件
        bookmarkBtn.addEventListener('click', toggleBookmark);
        
        // 页面加载时检查收藏状态
        document.addEventListener('DOMContentLoaded', () => {
            checkBookmarkStatus();
        });
    </script>
</body>
</html> 